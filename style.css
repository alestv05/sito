:root{
  --bg:#080d16; --surface:#121a2a; --text:#eaf0ff; --muted:#9daccc;
  --primary:#58a6ff; --primary2:#0b6dd6; --shadow:0 18px 40px rgba(0,0,0,.55);
  --ok:#68ff96; --warn:#ffd75c; --bad:#ff6b6b;
}
*{box-sizing:border-box}
body{margin:0;font-family:'Montserrat',sans-serif;background:var(--bg);color:var(--text)}

/* NAV */
.site-header{position:sticky;top:0;z-index:10;display:flex;align-items:center;justify-content:space-between;padding:12px 18px;background:#0f1625;border-bottom:1px solid #23314f}
.nav{display:flex;gap:10px}
.nav-link{color:var(--text);text-decoration:none;font-weight:700;padding:8px 10px;border-radius:10px}
.nav-link:hover{background:#151e33}
.menu-toggle{display:none;background:none;border:0;color:var(--text)}
.avatar-topbox{display:none;align-items:center;gap:8px}
#avatarIcon{font-size:32px;color:#cdd7ee}
.avatar-top{display:none;width:36px;height:36px;border-radius:50%;object-fit:cover;border:2px solid #cdd7ee}
body.sheet-open .avatar-topbox{visibility:hidden}

/* PAGES */
.page{min-height:calc(100vh - 120px);padding:40px 16px}
.hero-onlylogo{position:relative}
.hero-onlylogo::after{content:"";position:absolute;inset:0;background:url('https://i.postimg.cc/d19KnZQv/LOGO-SERVER-2.png') no-repeat center/560px;opacity:.28;pointer-events:none}

/* CARDS */
.card{max-width:720px;margin:40px auto;background:#162137;border:1px solid #2a3a61;border-radius:16px;padding:18px;box-shadow:var(--shadow)}
.card.profile{max-width:600px}
.card-head{display:flex;align-items:center;gap:12px;margin-bottom:8px}
.chip{width:42px;height:42px;border-radius:12px;display:grid;place-items:center;background:#1b2747;border:1px solid #2a3a61;color:#d9e4ff}
.chip.blue{background:#153259}
.chip.green{background:#143c2a}
.sub{color:var(--muted)}

/* PROFILE */
.profile-box{text-align:center}
.avatar{width:120px;height:120px;border-radius:50%;object-fit:cover;margin:10px auto;border:3px solid #cfd6e8}
.uploader{display:flex;gap:10px;justify-content:center;margin:8px 0}
.grid-two{display:grid;grid-template-columns:1fr 1fr;gap:10px;justify-items:center}
.info{color:#cfe0ff}
.actions{display:flex;gap:10px;justify-content:center;margin-top:8px}
.btn{padding:12px 16px;border-radius:12px;border:0;cursor:pointer;font-weight:800}
.btn-primary{background:linear-gradient(135deg,var(--primary),var(--primary2));color:#fff}
.btn-ghost{background:transparent;border:1px solid #2a3a61;color:#fff}
.btn.full{width:100%}

/* FORM GRID */
.form-grid{display:grid;gap:14px;align-items:start}
.form-grid.one{grid-template-columns:1fr}
.form-grid.two{grid-template-columns:1fr 1fr}
.form-grid > .span2{grid-column:1/-1}
.form-grid > .field{min-width:0}

/* FIELDS + FLOATING LABEL (tutti perfettamente uguali) */
.field{position:relative}
.field input{
  width:100%;height:52px;
  padding:16px 58px 14px 50px;
  background:#0f1528;border:2px solid #28365c;border-radius:12px;color:#fff;outline:none;
}
.field input::placeholder{color:transparent}
.field input:focus{border-color:#9fb3da;box-shadow:0 0 0 3px #9fb3da2d}

/* iOS autofill fix */
.field input:-webkit-autofill,
.field input:-webkit-autofill:hover,
.field input:-webkit-autofill:focus{
  -webkit-text-fill-color:#fff !important; caret-color:#fff;
  transition:background-color 9999s ease-out 0s;
  box-shadow:0 0 0px 1000px #0f1528 inset !important;
}

/* LABEL: sale al focus o se c'è valore */
.field label{
  position:absolute;left:50px;top:50%;transform:translateY(-50%);
  color:#9fb3da;transition:.18s;background:linear-gradient(0deg,transparent 0 45%,#0f1528 46% 100%);padding:0 6px;pointer-events:none
}
.field.is-focus label,
.field.has-value label,
.field input:not(:placeholder-shown)+label{top:-9px;transform:none;font-size:.78rem}

/* Icone */
.leading{position:absolute;left:14px;top:50%;transform:translateY(-50%);color:#c9d4ef;pointer-events:none;font-size:1.05rem}
.pw-toggle{position:absolute;right:14px;top:50%;transform:translateY(-50%);color:#cfe0ff;z-index:5;cursor:pointer;width:38px;height:38px;display:flex;align-items:center;justify-content:center}

/* ✅ Password e Conferma password allineate come Nickname */
.field.has-meter input,
.field.float input,
.field input{line-height:1.3} /* normalizza */

 /* rimuovo il vecchio “raise”: ora i campi password hanno esatta stessa altezza/label */
.field.raise input{padding-top:16px;padding-bottom:14px}
.field.raise label{top:50%}
.field.raise .leading{top:50%}

/* Meter password (stessa larghezza campo) */
.has-meter{margin-bottom:2px}
.meter{height:8px;border-radius:6px;background:#1b263f;margin:8px 58px 4px 50px;border:1px solid #2a3a61;overflow:hidden}
.meter span{display:block;height:100%;width:0;background:linear-gradient(90deg,var(--bad),#ffa23e,var(--warn),var(--ok));transition:width .25s}
.muted{color:#9daccc;margin-left:50px}

/* Varie */
.links-row{display:flex;justify-content:flex-end}
.checkline{display:flex;align-items:center;gap:8px}
.form-msg{margin-top:6px;font-weight:700}

/* SHEETS */
.sheet{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(0,0,0,.6);z-index:20}
.sheet.is-open{display:flex}
.sheet-panel{position:relative;width:min(96vw,760px);background:#121a2a;border:1px solid #2a3a61;border-radius:18px;box-shadow:var(--shadow);overflow:auto;max-height:92vh}
.sheet-close{position:absolute;right:14px;top:14px;background:transparent;border:1px solid #2a3a61;border-radius:10px;color:#fff;width:40px;height:40px}
.sheet-body{padding:18px}
.sheet-header{display:flex;gap:12px;align-items:center;margin:4px 0 12px}

/* MODAL */
.overlay{position:fixed;inset:0;background:rgba(0,0,0,.55);display:none;align-items:center;justify-content:center;z-index:30}
.overlay.is-open{display:flex}
.modal{background:#162137;border:1px solid #2a3a61;border-radius:14px;padding:16px;width:min(92vw,480px)}
.modal-head{display:flex;align-items:center;justify-content:space-between;margin-bottom:8px}
.close{background:transparent;border:0;color:#fff;font-size:1.1rem}

/* TOAST & FOOTER */
#toast{position:fixed;left:50%;bottom:24px;transform:translateX(-50%);background:rgba(10,16,28,.9);color:#fff;border:1px solid #2a3a61;border-radius:12px;padding:10px 14px;box-shadow:var(--shadow);opacity:0;pointer-events:none;z-index:60}
#toast.show{animation:toastIn .18s ease forwards}
@keyframes toastIn{from{opacity:0;transform:translate(-50%,6px)}to{opacity:1;transform:translate(-50%,0)}}
.site-footer{text-align:center;padding:26px;color:#9daccc}
.stripe{height:8px;width:220px;margin:0 auto 12px;border-radius:6px;background:linear-gradient(90deg,#009246 0 33%,#fff 33% 66%,#ce2b37 66% 100%);border:1px solid #2a3a61}

/* RESPONSIVE */
@media (max-width:900px){
  .menu-toggle{display:block}
  .nav{position:absolute;top:64px;right:12px;background:#0f1625;border:1px solid #23314f;border-radius:12px;padding:8px;display:none;flex-direction:column}
  .nav.open{display:flex}
  .form-grid.two{grid-template-columns:1fr}
}
